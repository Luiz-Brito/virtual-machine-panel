<mat-card class="container">
    <mat-card-title class="title">Update virtual machine</mat-card-title>
    <form [formGroup]="form">
          <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name">
            <mat-error *ngIf="form.get('name')?.hasError('minlength')">
              The name must have at least 5 letters.
            </mat-error>
            <mat-error *ngIf="form.get('name')?.hasError('required')">
             Field cannot be empty.
            </mat-error>
          </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>CPU</mat-label>
          <input matInput type="number" formControlName="cpu" min="1">
            <mat-error *ngIf="form.get('cpu')?.hasError('min')">
              Value must be greater than zero
            </mat-error>
            <mat-error *ngIf="form.get('cpu')?.hasError('required')">
             Field cannot be empty.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Memory (GB)</mat-label>
            <input matInput type="number" formControlName="memory" min="1">
            <mat-error *ngIf="form.get('memory')?.hasError('min')">
              Value must be greater than zero
            </mat-error>
            <mat-error *ngIf="form.get('memory')?.hasError('required')">
             Field cannot be empty.
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Disc (GB)</mat-label>
            <input matInput type="number" formControlName="disc" min="1">
            <mat-error *ngIf="form.get('disc')?.hasError('min')">
              Value must be greater than zero
            </mat-error>
            <mat-error *ngIf="form.get('disc')?.hasError('required')">
             Field cannot be empty.
            </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Status</mat-label>
          <mat-select formControlName="status">
            @for (option of statusOptions; track option) {
              <mat-option [value]="option.value">{{option.label}}</mat-option>
            }
          </mat-select>
        </mat-form-field>
    </form>

    <div class="form-actions">
      <button mat-raised-button (click)="cancel()">
        Cancel
      </button>

      <button mat-raised-button [disabled]="form.invalid" (click)="onSubmit()" color="primary">
        Update
      </button>
    </div>
</mat-card>